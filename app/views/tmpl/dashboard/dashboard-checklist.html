<div class="page page-dashboard">
	<div class="pageheader">
		<h2><b>{{page.title}}</b></h2>
		<div class="row">
			<div class="col-md-3">
				<div class="gray-ps-1 br-15 b-0">
					<p class="input-group">
						<input type="text" class="form-control" uib-datepicker-popup="MM/yyyy" ng-model="page.filters.date.value" is-open="page.filters.date.opened" datepicker-options="{minMode: 'month', showButtonBar: false}" close-text="Cerrar" clear-text="Limpiar" current-text="Hoy" readonly />
						<span class="input-group-btn" required>
							<button type="button" class="btn btn-default" ng-click="openDatePicker($event)"><i class="glyphicon glyphicon-calendar"></i></button>
						</span>
					</p>
				</div>
			</div>
			<div class="col-md-3">
				<ui-select class="gray-ps-3 br-15 b-0" ng-model="page.filters.companies.selected" close-on-select="true" ng-change="getConstructions(page.filters.companies.selected)" title="Empresas">
					<ui-select-match placeholder="Empresa"><span ng-bind="$select.selected.name  | capitalize:true"></span></ui-select-match>
					<ui-select-choices repeat="company in page.filters.companies.list | propsFilter: {name: $select.search}">
						<div ng-bind-html="company.name | highlight: $select.search | capitalize:true"></div>
					</ui-select-choices>
				</ui-select>
			</div>
			<div class="col-md-3">
				<ui-select class="blue-ps-1 br-15 b-0" ng-model="page.filters.constructions.selected" close-on-select="true" ng-change="getDashboardInfo()" ng-disabled="page.filters.constructions.disabled" title="Obras">
					<ui-select-match placeholder="Obra"><span ng-bind="$select.selected.name | capitalize:true"></span></ui-select-match>
					<ui-select-choices repeat="construction in page.filters.constructions.list | propsFilter: {name: $select.search}">
						<div ng-bind-html="construction.name | highlight: $select.search | capitalize:true"></div>
					</ui-select-choices>
				</ui-select>
			</div>
			<div class="col-md-3">
				<ui-select class="blue-ps-1 br-15 b-0" ng-model="page.filters.checklist.selected" close-on-select="true" ng-change="reset()" ng-disabled="page.filters.checklist.disabled" title="Checklist">
					<ui-select-match placeholder="Lista de chequeo"><span ng-bind="$select.selected.name | capitalize:true"></span></ui-select-match>
					<ui-select-choices repeat="check in page.filters.checklist.list | propsFilter: {name: $select.search}">
						<div ng-bind-html="check.name | highlight: $select.search | capitalize:true"></div>
					</ui-select-choices>
				</ui-select>
			</div>
		</div>
	</div>

	<div class="row">
		<div class="col-md-5">
			<section class="tile">
	          	<div class="tile-header dvd dvd-btm">
	            	<h1 class="custom-font"><strong>Cumplimiento</strong></h1>
	          	</div>
	          	<div class="tile-body">
	            	<div class="row">
	            		<section class="tile tile-simple">
				          	<div class="tile-body text-center">
				            	<h1 class="m-0" style="color: orange; font-size: 500%;"><b>{{dashboard.promedioCumplimiento}}%</b></h1>
					            <span class="text" style="font-size: 150%;"><b>Cumplimiento Global</b></span>
				          	</div>
				          	<div class="col-md-12">
						        <section class="tile tile-simple">
						          <div class="tile-body p-0">
						            <div class="list-group no-radius no-border" ng-model="dashboard.cumplimientoObras">
						              <a class="list-group-item" ng-repeat="obra in dashboard.cumplimientoObras">
						                <div style="display:inline-block;width:80%; text-align: left; font-size: 150%"><b>{{ obra.obra }}</b></div>
				            			<div style="display:inline-block;width:19%; text-align: left; font-size: 150%"><b style="color: orange;">{{obra.cumplimiento}}</b></div>
						              </a>
						            </div>
						          </div>
						        </section>
              				</div>
				        </section>
	            	</div>
	           	</div>
	        </section>
		</div>
		<div class="col-md-7">
			<div class="col-md-12">
				<section class="tile">
		          	<div class="tile-header dvd dvd-btm">
		            	<h1 class="custom-font"><strong>Lista de Chequeo: cumplimiento global obras</strong></h1>
		          	</div>
		          	<div class="tile-body">
		            	<!--div id="grafico1"></div-->
		            	<highchart config="listaChequeo"></highchart>
		           	</div>
		        </section>
			</div>
			<div class="col-md-12">
				<section class="tile">
		          	<div class="tile-header dvd dvd-btm">
		            	<h1 class="custom-font"><strong>Ranking bajo cumplimiento</strong></h1>
		          	</div>
		          	<div class="tile-body">
		            	<!--div id="grafico2"></div-->
		            	<highchart config="bajoCumplimiento"></highchart>
		           	</div>
		        </section>
			</div>
		</div>
	</div>
</div>
